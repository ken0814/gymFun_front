import{_ as $,a as g,r as q,H as A,N as E,o as d,c as k,d as e,e as l,w as c,g as p,F as x,k as F,S as w,bm as L,bn as T,bq as S,h as j,I as U,T as H,L as P,bo as i,p as G,i as J,j as h,br as K,bs as O,bp as Q,l as R}from"./index.0cb75c48.js";import{_ as W}from"./Pagination.e7503f15.js";import{_ as X}from"./Modal.f1199e63.js";import"./Input.77b5ae9d.js";import"./Select.7ca6545e.js";import"./Popover.c82955ba.js";import"./Warning.1b53be00.js";const f=u=>(G("data-v-1aef7782"),u=u(),J(),u),Y={class:"flex D-column justify-content-space-between",id:"container"},Z={id:"section01"},ee=f(()=>e("h1",null,"\u8AB2\u7A0B\u5217\u8868",-1)),te=f(()=>e("hr",null,null,-1)),oe=["onClick"],ne=["src"],se=h("\u6C92\u6709\u8AB2\u7A0B"),ae={class:"flex D-column",id:"footer"},ie={class:"flex",id:"footerIcon_section"},le={href:"https://fb.com"},ce={href:"https://www.instagram.com/"},re={href:"https://twitter.com"},_e={href:"https://line.me/zh-hant/"},pe=f(()=>e("p",null,[h(" Copyright \xA9 2022 kenli \xA0 "),e("br"),h("\u7DB2\u7AD9\u70BA\u5B78\u7FD2\u7528\u9014\uFF0C\u7121\u5546\u696D\u4F7F\u7528\u3002\u5716\u7247\u3001\u6587\u5B57\u5747\u53D6\u81EA\u7DB2\u8DEF")],-1)),ue={class:"flex D-column",id:"modal"},me={class:"flex D-column align-items-flex-start",id:"modalSection01"},de=["src"],he=f(()=>e("h2",null,"\u8AB2\u7A0B\u4ECB\u7D39",-1)),fe={class:"flex",id:"btnSection"},ge=h("\u7ACB\u5373\u5831\u540D"),we={__name:"CourseView",setup(u){const n=g([]),r=q(1),_=8,C=A(()=>n.slice(r.value*_-_,r.value*_)),t=g({_id:"",name:"",price:"",category:null,time:null,place:0,sell:!1,image:[],description:"",coachName:"",idx:-1,submitting:!1,showModal:!1}),v=g({course:"",status:0}),N=(s,o)=>{t._id=s,o>-1&&(t.name=n[o].name,t.price=n[o].price,t.category=n[o].category,t.time=n[o].time,t.place=n[o].place,t.sell=n[o].sell,t.description=n[o].description,t.image=n[o].image,t.coachName=n[o].profile.name),t.idx=o,t.showModal=!0,t.submitting=!1},I=async()=>{v.course=t._id.toString();try{await K.post("/registration",v),t.showModal=!1,w.fire({icon:"success",title:"\u6210\u529F",text:"\u5831\u540D\u6210\u529F"}),t.submitting=!1}catch(s){t.showModal=!1,w.fire({icon:"error",title:"\u5931\u6557",text:s.response.data.message==="No auth token"?"\u767B\u5165\u5F8C\u624D\u80FD\u5831\u540D":s.isAxiosError&&s.response.data?s.response.data.message:"\u767C\u751F\u932F\u8AA4"}),t.submitting=!1}};return(async()=>{try{const{data:s}=await F.get("/courses/");n.push(...s.result)}catch(s){w.fire({icon:"error",title:"\u5931\u6557",text:s.isAxiosError&&s.response.data?s.response.data.message:"\u767C\u751F\u932F\u8AA4"})}})(),(s,o)=>{const b=O,y=Q,D=L,M=W,m=E,z=R,B=X;return d(),k(x,null,[e("div",Y,[e("div",Z,[ee,te,l(D,{cols:"1 sm:2 md:3 lg:4",responsive:"screen"},{default:c(()=>[n.length>0?(d(!0),k(x,{key:0},T(p(C),(a,V)=>(d(),S(y,{key:a._id},{default:c(()=>[e("a",{onClick:be=>N(a._id,V+(r.value-1)*_)},[l(b,null,{cover:c(()=>[e("img",{src:a.image},null,8,ne)]),default:c(()=>[e("h2",null,i(a.name),1),e("h3",null,"\u904B\u52D5\u9805\u76EE: "+i(a.category),1),e("h3",null,"\u4E0A\u8AB2\u5730\u9EDE: "+i(a.place),1),e("h3",null,"\u4E0A\u8AB2\u6642\u6BB5: "+i(a.time),1),e("h3",null,"\u50F9\u9322: $ "+i(a.price)+" / \u5802",1)]),_:2},1024)],8,oe)]),_:2},1024))),128)):(d(),S(y,{key:1},{default:c(()=>[l(b,{style:{"text-align":"center"}},{default:c(()=>[se]),_:1})]),_:1}))]),_:1}),l(M,{page:r.value,"onUpdate:page":o[0]||(o[0]=a=>r.value=a),"page-count":Math.ceil(n.length/_)},null,8,["page","page-count"])]),e("div",ae,[e("div",ie,[e("a",le,[l(m,{size:"25",color:"#fff",component:p(j)},null,8,["component"])]),e("a",ce,[l(m,{size:"25",color:"#fff",component:p(U)},null,8,["component"])]),e("a",re,[l(m,{size:"25",color:"#fff",component:p(H)},null,8,["component"])]),e("a",_e,[l(m,{size:"25",color:"#fff",component:p(P)},null,8,["component"])])]),pe])]),l(B,{show:t.showModal,"onUpdate:show":o[2]||(o[2]=a=>t.showModal=a),preset:"card",style:{width:"500px"}},{default:c(()=>[e("div",ue,[e("div",me,[e("h1",null,i(t.name),1),e("img",{src:t.image},null,8,de),e("h3",null,"\u6559\u7DF4: "+i(t.coachName),1),e("h3",null,"\u8AB2\u7A0B\u5730\u9EDE: "+i(t.place),1),e("h3",null,"\u8AB2\u7A0B\u6642\u6BB5: "+i(t.time),1),e("h3",null,"\u8AB2\u7A0B\u50F9\u9322: $ "+i(t.price)+" / \u5802",1),he,e("h4",null,i(t.description),1),e("div",fe,[l(z,{color:"#D74B4B",onClick:o[1]||(o[1]=a=>I()),loding:t.submitting},{default:c(()=>[ge]),_:1},8,["loding"])])])])]),_:1},8,["show"])],64)}}},De=$(we,[["__scopeId","data-v-1aef7782"]]);export{De as default};
