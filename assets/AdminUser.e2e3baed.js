import{_ as b,a as w,o as i,c as r,e as d,w as u,F as p,bI as h,S as o,d as e,bn as v,p as k,i as A,bo as f,j as B,l as S}from"./index.d0332747.js";import{_ as I}from"./Table.97727772.js";const _=a=>(k("data-v-7444e804"),a=a(),A(),a),C=_(()=>e("div",{class:"flex justify-content-space-between",id:"section01"},[e("h1",null,"\u7528\u6236\u7BA1\u7406")],-1)),E=_(()=>e("thead",null,[e("tr",null,[e("th",null,"\u5E33\u865F"),e("th",null,"\u4F7F\u7528\u8005\u8EAB\u5206"),e("th",null,"\u7DE8\u8F2F")])],-1)),N=B("\u522A\u9664"),U={key:1},V=_(()=>e("td",{colspan:"3",style:{"text-align":"center"}},"\u6C92\u6709\u4F7F\u7528\u8005",-1)),j=[V],D={__name:"AdminUser",setup(a){const l=w([]),m=async(t,c)=>{try{await h.delete("/users/"+t._id),o.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),l.splice(c,1)}catch(s){o.fire({icon:"error",title:"\u5931\u6557",text:s.isAxiosError?s.response.data.message:s.message})}},x=async(t,c)=>{const{value:s}=await o.fire({input:"text",title:"\u522A\u9664\u6703\u54E1",icon:"warning",inputLabel:"\u8F38\u5165\u522A\u9664\u5F8C\uFF0C\u624D\u80FD\u522A\u9664\u6703\u54E1",inputPlaceholder:"\u8ACB\u8F38\u5165\u522A\u9664",showCancelButton:!0});s==="\u522A\u9664"?m(t,c):s===""?o.fire("\u8F38\u5165\u522A\u9664\u624D\u80FD\u522A\u9664\u6703\u54E1"):s!=="\u522A\u9664"&&o.fire("\u8F38\u5165\u522A\u9664\u624D\u80FD\u522A\u9664\u6703\u54E1")};return(async()=>{try{const{data:t}=await h.get("/users/all");l.push(...t.result)}catch(t){o.fire({icon:"error",title:"\u5931\u6557",text:t.isAxiosError?t.response.data.message:t.message})}})(),(t,c)=>{const s=S,g=I;return i(),r(p,null,[C,d(g,{bordered:!1,"single-line":!1,id:"table"},{default:u(()=>[E,e("tbody",null,[l.length>0?(i(!0),r(p,{key:0},v(l,(n,y)=>(i(),r("tr",{key:n._id},[e("td",null,f(n.account),1),e("td",null,f(n.role===0?"\u5B78\u54E1":n.role===1?"\u6559\u7DF4":n.role===2?"\u7BA1\u7406\u54E1":""),1),e("td",null,[d(s,{onClick:L=>x(n,y),color:"#D74B4B"},{default:u(()=>[N]),_:2},1032,["onClick"])])]))),128)):(i(),r("tr",U,j))])]),_:1})],64)}}},$=b(D,[["__scopeId","data-v-7444e804"]]);export{$ as default};
